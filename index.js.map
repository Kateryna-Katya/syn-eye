{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * syn-eye.blog - Final Stable JS\n */\n\n// 0. Регистрация плагинов\ngsap.registerPlugin(ScrollTrigger);\n\n// 1. Плавный скролл\nconst lenis = new Lenis();\nfunction raf(time) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n}\nrequestAnimationFrame(raf);\n\n// 2. Мобильное меню (Исправлено)\nconst initNavigation = () => {\n    const burger = document.querySelector('.burger');\n    const nav = document.querySelector('.nav');\n    const body = document.body;\n\n    if (burger && nav) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('active');\n            nav.classList.toggle('active');\n            body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';\n        });\n    }\n\n    document.querySelectorAll('.nav__link').forEach(link => {\n        link.addEventListener('click', () => {\n            if (burger) burger.classList.remove('active');\n            if (nav) nav.classList.remove('active');\n            body.style.overflow = '';\n        });\n    });\n};\n\n// 3. Анимация Hero (Надежный метод FromTo)\nconst initHero = () => {\n    const tl = gsap.timeline({\n        defaults: { ease: \"expo.out\", duration: 1.2 }\n    });\n\n    // Мы используем fromTo, чтобы четко сказать:\n    // \"Начни с 0 и закончи на 1\", не полагаясь на текущее состояние CSS\n    tl.fromTo('.hero__badge',\n        { opacity: 0, y: 30 },\n        { opacity: 1, y: 0 },\n        \"+=0.5\"\n    )\n    .fromTo('.hero__title',\n        { opacity: 0, y: 40 },\n        { opacity: 1, y: 0 },\n        \"-=0.8\"\n    )\n    .fromTo('.hero__text',\n        { opacity: 0, y: 20 },\n        { opacity: 1, y: 0 },\n        \"-=0.9\"\n    )\n    .fromTo('.hero__actions',\n        { opacity: 0, y: 20 },\n        { opacity: 1, y: 0 },\n        \"-=1\"\n    )\n    .fromTo('.hero__visual',\n        { opacity: 0, scale: 0.9 },\n        { opacity: 1, scale: 1 },\n        \"-=1.2\"\n    );\n};\n\n// 4. Скролл-анимации остальных секций\nconst initScrollAnims = () => {\n    document.querySelectorAll('[data-aos]').forEach(el => {\n        gsap.from(el, {\n            scrollTrigger: {\n                trigger: el,\n                start: \"top 85%\",\n                toggleActions: \"play none none none\"\n            },\n            y: 40,\n            opacity: 0,\n            duration: 1\n        });\n    });\n\n    // Изменение хедера при скролле\n    const header = document.querySelector('.header');\n    ScrollTrigger.create({\n        start: \"top -50\",\n        onUpdate: (self) => {\n            if (self.direction === 1) {\n                header.classList.add('header--scrolled');\n            } else if (window.scrollY < 50) {\n                header.classList.remove('header--scrolled');\n            }\n        }\n    });\n};\n\n// 5. Контакты и Капча\nconst initForm = () => {\n    const form = document.getElementById('ai-contact-form');\n    if (!form) return;\n\n    const n1 = Math.floor(Math.random() * 10);\n    const n2 = Math.floor(Math.random() * 10);\n    const sum = n1 + n2;\n    const label = document.getElementById('captcha-label');\n    if (label) label.innerText = `Сколько будет ${n1} + ${n2}?`;\n\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const ans = document.getElementById('captcha-input').value;\n        if (parseInt(ans) !== sum) {\n            alert(\"Решите капчу правильно!\");\n            return;\n        }\n\n        const btn = form.querySelector('button');\n        btn.innerText = \"Отправка...\";\n        setTimeout(() => {\n            form.reset();\n            btn.innerText = \"Отправить запрос\";\n            const success = document.getElementById('form-success');\n            if (success) success.style.display = 'block';\n        }, 1500);\n    });\n};\n\n// Запуск всего\nwindow.addEventListener('load', () => {\n    initNavigation();\n    initHero();\n    initScrollAnims();\n    initForm();\n});\n\n// Cookie Popup\nconst cookieBtn = document.getElementById('accept-cookies');\nif (cookieBtn) {\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => document.getElementById('cookie-popup').classList.add('active'), 2000);\n    }\n    cookieBtn.addEventListener('click', () => {\n        localStorage.setItem('cookiesAccepted', 'true');\n        document.getElementById('cookie-popup').classList.remove('active');\n    });\n}"],"names":["lenis","raf","time","initNavigation","burger","nav","body","link","initHero","initScrollAnims","el","header","self","initForm","form","n1","n2","sum","label","e","ans","btn","success","cookieBtn"],"mappings":"0uBAKA,KAAK,eAAe,aAAa,EAGjC,MAAMA,EAAQ,IAAI,MAClB,SAASC,EAAIC,EAAM,CACfF,EAAM,IAAIE,CAAI,EACd,sBAAsBD,CAAG,CAC7B,CACA,sBAAsBA,CAAG,EAGzB,MAAME,EAAiB,IAAM,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAM,SAAS,cAAc,MAAM,EACnCC,EAAO,SAAS,KAElBF,GAAUC,GACVD,EAAO,iBAAiB,QAAS,IAAM,CACnCA,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAI,UAAU,OAAO,QAAQ,EAC7BC,EAAK,MAAM,SAAWD,EAAI,UAAU,SAAS,QAAQ,EAAI,SAAW,EAChF,CAAS,EAGL,SAAS,iBAAiB,YAAY,EAAE,QAAQE,GAAQ,CACpDA,EAAK,iBAAiB,QAAS,IAAM,CAC7BH,GAAQA,EAAO,UAAU,OAAO,QAAQ,EACxCC,GAAKA,EAAI,UAAU,OAAO,QAAQ,EACtCC,EAAK,MAAM,SAAW,EAClC,CAAS,CACT,CAAK,CACL,EAGME,EAAW,IAAM,CACR,KAAK,SAAS,CACrB,SAAU,CAAE,KAAM,WAAY,SAAU,GAAG,CACnD,CAAK,EAIE,OAAO,eACN,CAAE,QAAS,EAAG,EAAG,EAAI,EACrB,CAAE,QAAS,EAAG,EAAG,CAAG,EACpB,OACR,EACK,OAAO,eACJ,CAAE,QAAS,EAAG,EAAG,EAAI,EACrB,CAAE,QAAS,EAAG,EAAG,CAAG,EACpB,OACR,EACK,OAAO,cACJ,CAAE,QAAS,EAAG,EAAG,EAAI,EACrB,CAAE,QAAS,EAAG,EAAG,CAAG,EACpB,OACR,EACK,OAAO,iBACJ,CAAE,QAAS,EAAG,EAAG,EAAI,EACrB,CAAE,QAAS,EAAG,EAAG,CAAG,EACpB,KACR,EACK,OAAO,gBACJ,CAAE,QAAS,EAAG,MAAO,EAAK,EAC1B,CAAE,QAAS,EAAG,MAAO,CAAG,EACxB,OACH,CACL,EAGMC,EAAkB,IAAM,CAC1B,SAAS,iBAAiB,YAAY,EAAE,QAAQC,GAAM,CAClD,KAAK,KAAKA,EAAI,CACV,cAAe,CACX,QAASA,EACT,MAAO,UACP,cAAe,qBAClB,EACD,EAAG,GACH,QAAS,EACT,SAAU,CACtB,CAAS,CACT,CAAK,EAGD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/C,cAAc,OAAO,CACjB,MAAO,UACP,SAAWC,GAAS,CACZA,EAAK,YAAc,EACnBD,EAAO,UAAU,IAAI,kBAAkB,EAChC,OAAO,QAAU,IACxBA,EAAO,UAAU,OAAO,kBAAkB,CAE1D,CACA,CAAK,CACL,EAGME,EAAW,IAAM,CACnB,MAAMC,EAAO,SAAS,eAAe,iBAAiB,EACtD,GAAI,CAACA,EAAM,OAEX,MAAMC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAClCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAClCC,EAAMF,EAAKC,EACXE,EAAQ,SAAS,eAAe,eAAe,EACjDA,IAAOA,EAAM,UAAY,iBAAiBH,CAAE,MAAMC,CAAE,KAExDF,EAAK,iBAAiB,SAAWK,GAAM,CACnCA,EAAE,eAAgB,EAClB,MAAMC,EAAM,SAAS,eAAe,eAAe,EAAE,MACrD,GAAI,SAASA,CAAG,IAAMH,EAAK,CACvB,MAAM,yBAAyB,EAC/B,MACZ,CAEQ,MAAMI,EAAMP,EAAK,cAAc,QAAQ,EACvCO,EAAI,UAAY,cAChB,WAAW,IAAM,CACbP,EAAK,MAAO,EACZO,EAAI,UAAY,mBAChB,MAAMC,EAAU,SAAS,eAAe,cAAc,EAClDA,IAASA,EAAQ,MAAM,QAAU,QACxC,EAAE,IAAI,CACf,CAAK,CACL,EAGA,OAAO,iBAAiB,OAAQ,IAAM,CAClCnB,EAAgB,EAChBK,EAAU,EACVC,EAAiB,EACjBI,EAAU,CACd,CAAC,EAGD,MAAMU,EAAY,SAAS,eAAe,gBAAgB,EACtDA,IACK,aAAa,QAAQ,iBAAiB,GACvC,WAAW,IAAM,SAAS,eAAe,cAAc,EAAE,UAAU,IAAI,QAAQ,EAAG,GAAI,EAE1FA,EAAU,iBAAiB,QAAS,IAAM,CACtC,aAAa,QAAQ,kBAAmB,MAAM,EAC9C,SAAS,eAAe,cAAc,EAAE,UAAU,OAAO,QAAQ,CACzE,CAAK"}